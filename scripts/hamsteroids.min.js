"use strict";function _defineProperty(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}const Hamsteroids=function(){var a,b;this.init=()=>{this.booter=new d},this.boot=()=>{this.booter.setupCanvas()},this.destroy=()=>{};const c=(b=a=class{},_defineProperty(a,"GAME_DEV_NAME","Hamsteroids"),_defineProperty(a,"GAME_VERSION","1.0"),_defineProperty(a,"DEBUG",!0),_defineProperty(a,"DEFAULT_PATH","./"),_defineProperty(a,"DEFAULT_LANGUAGE","en"),_defineProperty(a,"GAME_WIDTH",375),_defineProperty(a,"GAME_HEIGHT",667),_defineProperty(a,"GAME_ASSETS",[{key:"test_spritesheet_h",directory:"hamsteroids_spritesheet_test-0.json"}]),b),d=class{constructor(){this.canvas,this.context,this.pixiApp,this.stage,this.gameAssetsPath=null,this.gameLanguage=null,g.log("".concat(c.GAME_DEV_NAME," - v").concat(c.GAME_VERSION))}setupCanvas(){this.createPixiApp(),this.preloadAssets(),createjs.Ticker.timingMode=createjs.Ticker.RAF}createPixiApp(){this.canvas=document.getElementById("game_canvas"),this.pixiApp=new PIXI.Application({view:this.canvas,width:c.GAME_WIDTH,height:c.GAME_HEIGHT,antialias:!0,backgroundColor:14267090}),this.loader=new SOLUS.Loader(this.path),this.sceneManager=new SOLUS.SceneManager(this),this.stage=new PIXI.Container,this.pixiApp.ticker.add(this.updateLoop.bind(this))}createGameScenes(){this.sceneManager.create("title_screen",e,{booter:this,autoStart:!0}),this.sceneManager.create("test_render",f,{booter:this,autoStart:!1})}preloadAssets(){const a=c.GAME_ASSETS;this.loader.add(a),this.loader.on("progress",this.onFileProgress.bind(this)),this.loader.on("error",this.onFileError.bind(this)),this.loader.on("complete",this.onFilesComplete.bind(this)),this.loader.load()}onFileProgress(a){g.log("Loading ".concat(Math.floor(a.progress),"%"))}onFileError(){g.log("Error loading files")}onFilesComplete(){this.createGameScenes()}updateLoop(a){this.sceneManager.update(a)}set language(a){return this.gameLanguage=a+"",this.gameLanguage}set assetsPath(a){return this.gameAssetsPath=a+"",this.gameAssetsPath}get language(){return null==this.gameLanguage?c.DEFAULT_PATH:this.gameLanguage}get path(){return null==this.gameAssetsPath?c.DEFAULT_LANGUAGE:this.gameAssetsPath}},e=class extends PIXI.Container{constructor(){super(),g.log("constructor")}setup(){g.log("setup"),this.booter=this.sceneOptions.booter,this.display()}display(){const a=new PIXI.TextStyle({fill:"white",fontSize:30,align:"center"}),b=new PIXI.Text("Click here!",a);b.anchor.set(.5),b.x=c.GAME_WIDTH/2,b.y=c.GAME_HEIGHT/2;const d=new PIXI.Graphics;d.beginFill(5510533),d.drawRect(0,0,1.2*b.width,60),d.x=b.x-1.2*b.width/2,d.y=b.y-d.height/2,d.interactive=!0,d.buttonMode=!0,d.on("pointerup",this.goToGameScene.bind(this)),this.addChild(d,b)}goToGameScene(){this.sceneManager.launch("test_render"),this.destroy()}destroy(){g.log("destroy"),this.sceneManager.destroy(this)}},f=class extends PIXI.Container{constructor(){super()}setup(){g.log("setup"),this.booter=this.sceneOptions.booter,this.display()}display(){this.critter=SOLUS.Sprite.create("test_spritesheet_h","Ufo_pink_IG_large.png"),this.critter.anchor.set(.5),this.critter.scale.set(.4),this.critter.x=c.GAME_WIDTH/2,this.critter.y=c.GAME_HEIGHT/2,this.booter.pixiApp.stage.addChild(this.critter),setInterval(()=>{const a="Super_Cape_Red_IG_Large.png"==this.critter.textureName?"Ufo_pink_IG_large.png":"Super_Cape_Red_IG_Large.png";this.critter.changeTexture("test_spritesheet_h",a)},3e3),createjs.Tween.get(this.critter,{loop:-1}).to({y:240},1e3,createjs.Ease.backInOut).to({y:c.GAME_HEIGHT/2},1e3,createjs.Ease.backInOut)}destroy(){}},g=class{static log(){c.DEBUG&&console.log(...arguments)}}};let bootGame,setGameAssetsPath,setGameLanguage,destroyGame;function initGame(){const a=new Hamsteroids;a.init(),bootGame=()=>{a.boot()},setGameAssetsPath=b=>{a.booter.assetsPath=b},setGameLanguage=b=>{a.booter.language=b},destroyGame=()=>{a.destroy()},setGameAssetsPath("./assets/"),setGameLanguage("en"),bootGame()}document.addEventListener("DOMContentLoaded",initGame);
