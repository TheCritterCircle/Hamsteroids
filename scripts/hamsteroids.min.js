"use strict";function _defineProperty(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}const Hamsteroids=function(){var a,b;this.init=()=>{this.booter=new d},this.boot=()=>{this.booter.setupCanvas()},this.destroy=()=>{};const c=(b=a=class{},_defineProperty(a,"GAME_DEV_NAME","Hamsteroids"),_defineProperty(a,"GAME_VERSION","1.0"),_defineProperty(a,"DEBUG",!0),_defineProperty(a,"DEFAULT_PATH","./"),_defineProperty(a,"DEFAULT_LANGUAGE","en"),_defineProperty(a,"GAME_WIDTH",375),_defineProperty(a,"GAME_HEIGHT",667),_defineProperty(a,"GAME_ASSETS",[{key:"test_spritesheet_h",directory:"./assets/test_spritesheet_h.json"}]),b),d=class{constructor(){this.canvas,this.context,this.pixiApp,this.stage,this.gameAssetsPath=null,this.gameLanguage=null,e.log("".concat(c.GAME_DEV_NAME," - v").concat(c.GAME_VERSION))}setupCanvas(){this.createPixiApp(),this.preloadAssets()}createPixiApp(){this.canvas=document.getElementById("game_canvas"),this.pixiApp=new PIXI.Application({view:this.canvas,width:c.GAME_WIDTH,height:c.GAME_HEIGHT,antialias:!0,backgroundColor:14267090}),this.loader=PIXI.Loader.shared,this.stage=new PIXI.Container,this.pixiApp.ticker.add(this.updateLoop.bind(this))}preloadAssets(){const a=c.GAME_ASSETS;for(const b of a)this.loader.add(b.key,b.directory);this.loader.onProgress.add(this.onFileProgress.bind(this)),this.loader.onError.add(this.onFileError.bind(this)),this.loader.load(this.onFilesComplete.bind(this))}onFileProgress(a){e.log("Loading ".concat(a.progress,"%"))}onFileError(){e.log("Error loading files")}onFilesComplete(){e.log("loaded"),this.testRender()}testRender(){const a=this.loader.resources.test_spritesheet_h.spritesheet;this.critterTest=new PIXI.Sprite(a.textures["Bunny_Blue_IG_Large.png"]),this.critterTest.anchor.set(.5,.6),this.critterTest.x=c.GAME_WIDTH/2,this.critterTest.y=c.GAME_HEIGHT/2,this.critterTest.scale.set(.4),this.pixiApp.stage.addChild(this.critterTest)}updateLoop(){this.critterTest&&(this.critterTest.rotation+=.02)}set language(a){return this.gameLanguage=a+"",this.gameLanguage}set assetsPath(a){return this.gameAssetsPath=a+"",this.gameAssetsPath}get language(){return null==this.gameLanguage?c.DEFAULT_PATH:this.gameLanguage}get path(){return null==this.gameAssetsPath?c.DEFAULT_LANGUAGE:this.gameAssetsPath}},e=class{static log(){c.DEBUG&&console.log(...arguments)}}};let bootGame,setGameAssetsPath,setGameLanguage,destroyGame;function initGame(){const a=new Hamsteroids;a.init(),bootGame=()=>{a.boot()},setGameAssetsPath=b=>{a.booter.assetsPath=b},setGameLanguage=b=>{a.booter.language=b},destroyGame=()=>{a.destroy()},setGameAssetsPath("./assets/"),setGameLanguage("en"),bootGame()}document.addEventListener("DOMContentLoaded",initGame);
